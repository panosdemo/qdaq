\hypertarget{class_q_daq_linux_gpib}{}\doxysection{Q\+Daq\+Linux\+Gpib Class Reference}
\label{class_q_daq_linux_gpib}\index{QDaqLinuxGpib@{QDaqLinuxGpib}}


A class for accesing a G\+P\+IB interface.  




{\ttfamily \#include $<$linuxgpib.\+h$>$}

Inheritance diagram for Q\+Daq\+Linux\+Gpib\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=4.000000cm]{class_q_daq_linux_gpib}
\end{center}
\end{figure}
\doxysubsection*{Public Slots}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_q_daq_vector}{Q\+Daq\+Vector}} \mbox{\hyperlink{class_q_daq_linux_gpib_a95dc1c68c9cd52abe3ea108e4b9f93e8}{find\+Listeners}} ()
\begin{DoxyCompactList}\small\item\em Find connected devices on the G\+P\+IB interface. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
Q\+\_\+\+I\+N\+V\+O\+K\+A\+B\+LE \mbox{\hyperlink{class_q_daq_linux_gpib_a08f1f363e797940b829b5a76369c2ef6}{Q\+Daq\+Linux\+Gpib}} (const Q\+String \&name)
\item 
virtual \mbox{\hyperlink{class_q_daq_linux_gpib_a0b124f79461bef98f969d5ec81cbb497}{$\sim$\+Q\+Daq\+Linux\+Gpib}} ()
\item 
virtual bool \mbox{\hyperlink{class_q_daq_linux_gpib_a89112ac79fadf74ceb4b9092e743041c}{open\+\_\+port}} (uint i, \mbox{\hyperlink{class_q_daq_device}{Q\+Daq\+Device}} $\ast$)
\begin{DoxyCompactList}\small\item\em Open communication port no. i for \mbox{\hyperlink{class_q_daq_device}{Q\+Daq\+Device}} d. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{class_q_daq_linux_gpib_ae094d996784e54da6b9be5365553c9a5}{close\+\_\+port}} (uint i)
\begin{DoxyCompactList}\small\item\em Closes port i. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{class_q_daq_linux_gpib_aa6706f61d67d283ba6c22d3ef903c11d}{clear\+\_\+port}} (uint i)
\begin{DoxyCompactList}\small\item\em Clear the communication channel with port i (interface specific). \end{DoxyCompactList}\item 
virtual int \mbox{\hyperlink{class_q_daq_linux_gpib_aad2d4e1184d767244faf07430fd57cf3}{read}} (uint port, char $\ast$buff, int len, int eos=0)
\begin{DoxyCompactList}\small\item\em Read data from a port. \end{DoxyCompactList}\item 
virtual int \mbox{\hyperlink{class_q_daq_linux_gpib_a81c20b5cafdd7839c886e22db7094f9a}{write}} (uint port, const char $\ast$buff, int len, int eos=0)
\begin{DoxyCompactList}\small\item\em Write data to a port. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{class_q_daq_linux_gpib_aca022b61ba208841c54375136ab8b243}{trigger}} (uint port)
\begin{DoxyCompactList}\small\item\em Send the G\+P\+IB T\+RG signal to the device with address port. \end{DoxyCompactList}\item 
virtual int \mbox{\hyperlink{class_q_daq_linux_gpib_a7398b73299dc5530b95d25a86a040f77}{read\+Status\+Byte}} (uint port)
\begin{DoxyCompactList}\small\item\em Return the G\+P\+IB status byte for a device with address port. \end{DoxyCompactList}\item 
virtual bool \mbox{\hyperlink{class_q_daq_linux_gpib_a12d7e780de4fcc6b919693a85299ba62}{is\+Valid\+Port}} (uint i)
\begin{DoxyCompactList}\small\item\em Returns true is i is a valid port number. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual bool \mbox{\hyperlink{class_q_daq_linux_gpib_a877ccad825493988ca4d9e08fa8b265e}{open\+\_\+}} ()
\begin{DoxyCompactList}\small\item\em Implementation of interface open. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{class_q_daq_linux_gpib_ac76aa08c8e79b06cf88c1bc53d269039}{clear\+\_\+}} ()
\begin{DoxyCompactList}\small\item\em Implementation of interface clear. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{class_q_daq_linux_gpib_a6d5ed5bcdd3f215a6fba8798c6ac0775}{set\+Timeout\+\_\+}} (uint ms)
\begin{DoxyCompactList}\small\item\em Implementation of setting the timeout. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}
A class for accesing a G\+P\+IB interface. 

Used for message-\/based communications with devices connected on a I\+E\+E\+E-\/488 G\+P\+IB interface.

The port numbers used in \mbox{\hyperlink{class_q_daq_linux_gpib_a89112ac79fadf74ceb4b9092e743041c}{open\+\_\+port()}} and other functions correspond to G\+P\+IB addresses. A valid G\+P\+IB address is 1 to 32. Address 0 is reserved for the interface controller wich is the PC.

Connection to specific G\+P\+IB hardware is performed via plugins. A G\+P\+IB plugin implements the Q\+Daq\+Gpib\+Plugin interface. See the Plugins module for the available plugins by default in \mbox{\hyperlink{namespace_q_daq}{Q\+Daq}}.

In order to use the class, first load a G\+P\+IB plugin and then call \mbox{\hyperlink{class_q_daq_interface_a5fa4cb5da2eb29302357bcabcd2d0b00}{open()}}. 

Definition at line 49 of file linuxgpib.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_q_daq_linux_gpib_a08f1f363e797940b829b5a76369c2ef6}\label{class_q_daq_linux_gpib_a08f1f363e797940b829b5a76369c2ef6}} 
\index{QDaqLinuxGpib@{QDaqLinuxGpib}!QDaqLinuxGpib@{QDaqLinuxGpib}}
\index{QDaqLinuxGpib@{QDaqLinuxGpib}!QDaqLinuxGpib@{QDaqLinuxGpib}}
\doxysubsubsection{\texorpdfstring{QDaqLinuxGpib()}{QDaqLinuxGpib()}}
{\footnotesize\ttfamily Q\+Daq\+Linux\+Gpib\+::\+Q\+Daq\+Linux\+Gpib (\begin{DoxyParamCaption}\item[{const Q\+String \&}]{name }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}



Definition at line 18 of file linuxgpib.\+cpp.

\mbox{\Hypertarget{class_q_daq_linux_gpib_a0b124f79461bef98f969d5ec81cbb497}\label{class_q_daq_linux_gpib_a0b124f79461bef98f969d5ec81cbb497}} 
\index{QDaqLinuxGpib@{QDaqLinuxGpib}!````~QDaqLinuxGpib@{$\sim$QDaqLinuxGpib}}
\index{````~QDaqLinuxGpib@{$\sim$QDaqLinuxGpib}!QDaqLinuxGpib@{QDaqLinuxGpib}}
\doxysubsubsection{\texorpdfstring{$\sim$QDaqLinuxGpib()}{~QDaqLinuxGpib()}}
{\footnotesize\ttfamily Q\+Daq\+Linux\+Gpib\+::$\sim$\+Q\+Daq\+Linux\+Gpib (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Definition at line 25 of file linuxgpib.\+cpp.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_q_daq_linux_gpib_ac76aa08c8e79b06cf88c1bc53d269039}\label{class_q_daq_linux_gpib_ac76aa08c8e79b06cf88c1bc53d269039}} 
\index{QDaqLinuxGpib@{QDaqLinuxGpib}!clear\_@{clear\_}}
\index{clear\_@{clear\_}!QDaqLinuxGpib@{QDaqLinuxGpib}}
\doxysubsubsection{\texorpdfstring{clear\_()}{clear\_()}}
{\footnotesize\ttfamily void Q\+Daq\+Linux\+Gpib\+::clear\+\_\+ (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Implementation of interface clear. 



Reimplemented from \mbox{\hyperlink{class_q_daq_interface_adb177db6d7b4c5297ce0ab57bacaee4b}{Q\+Daq\+Interface}}.



Definition at line 200 of file linuxgpib.\+cpp.

\mbox{\Hypertarget{class_q_daq_linux_gpib_aa6706f61d67d283ba6c22d3ef903c11d}\label{class_q_daq_linux_gpib_aa6706f61d67d283ba6c22d3ef903c11d}} 
\index{QDaqLinuxGpib@{QDaqLinuxGpib}!clear\_port@{clear\_port}}
\index{clear\_port@{clear\_port}!QDaqLinuxGpib@{QDaqLinuxGpib}}
\doxysubsubsection{\texorpdfstring{clear\_port()}{clear\_port()}}
{\footnotesize\ttfamily void Q\+Daq\+Linux\+Gpib\+::clear\+\_\+port (\begin{DoxyParamCaption}\item[{uint}]{i }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Clear the communication channel with port i (interface specific). 



Reimplemented from \mbox{\hyperlink{class_q_daq_interface_a330fb2285630cc802cb89fb81d914212}{Q\+Daq\+Interface}}.



Definition at line 125 of file linuxgpib.\+cpp.

\mbox{\Hypertarget{class_q_daq_linux_gpib_ae094d996784e54da6b9be5365553c9a5}\label{class_q_daq_linux_gpib_ae094d996784e54da6b9be5365553c9a5}} 
\index{QDaqLinuxGpib@{QDaqLinuxGpib}!close\_port@{close\_port}}
\index{close\_port@{close\_port}!QDaqLinuxGpib@{QDaqLinuxGpib}}
\doxysubsubsection{\texorpdfstring{close\_port()}{close\_port()}}
{\footnotesize\ttfamily void Q\+Daq\+Linux\+Gpib\+::close\+\_\+port (\begin{DoxyParamCaption}\item[{uint}]{i }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Closes port i. 



Reimplemented from \mbox{\hyperlink{class_q_daq_interface_ac3cb048f8f4b8570ae70cf5584ed3612}{Q\+Daq\+Interface}}.



Definition at line 110 of file linuxgpib.\+cpp.

\mbox{\Hypertarget{class_q_daq_linux_gpib_a95dc1c68c9cd52abe3ea108e4b9f93e8}\label{class_q_daq_linux_gpib_a95dc1c68c9cd52abe3ea108e4b9f93e8}} 
\index{QDaqLinuxGpib@{QDaqLinuxGpib}!findListeners@{findListeners}}
\index{findListeners@{findListeners}!QDaqLinuxGpib@{QDaqLinuxGpib}}
\doxysubsubsection{\texorpdfstring{findListeners}{findListeners}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_q_daq_vector}{Q\+Daq\+Vector}} Q\+Daq\+Linux\+Gpib\+::find\+Listeners (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}



Find connected devices on the G\+P\+IB interface. 

If the in interface supports it this function returns the devices that are connected on the interface.

\begin{DoxyReturn}{Returns}
A vector of G\+P\+IB addresses. 
\end{DoxyReturn}


Definition at line 248 of file linuxgpib.\+cpp.

\mbox{\Hypertarget{class_q_daq_linux_gpib_a12d7e780de4fcc6b919693a85299ba62}\label{class_q_daq_linux_gpib_a12d7e780de4fcc6b919693a85299ba62}} 
\index{QDaqLinuxGpib@{QDaqLinuxGpib}!isValidPort@{isValidPort}}
\index{isValidPort@{isValidPort}!QDaqLinuxGpib@{QDaqLinuxGpib}}
\doxysubsubsection{\texorpdfstring{isValidPort()}{isValidPort()}}
{\footnotesize\ttfamily virtual bool Q\+Daq\+Linux\+Gpib\+::is\+Valid\+Port (\begin{DoxyParamCaption}\item[{uint}]{i }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



Returns true is i is a valid port number. 



Reimplemented from \mbox{\hyperlink{class_q_daq_interface_a325628a69b7476117a87e89470bf183d}{Q\+Daq\+Interface}}.



Definition at line 69 of file linuxgpib.\+h.

\mbox{\Hypertarget{class_q_daq_linux_gpib_a877ccad825493988ca4d9e08fa8b265e}\label{class_q_daq_linux_gpib_a877ccad825493988ca4d9e08fa8b265e}} 
\index{QDaqLinuxGpib@{QDaqLinuxGpib}!open\_@{open\_}}
\index{open\_@{open\_}!QDaqLinuxGpib@{QDaqLinuxGpib}}
\doxysubsubsection{\texorpdfstring{open\_()}{open\_()}}
{\footnotesize\ttfamily bool Q\+Daq\+Linux\+Gpib\+::open\+\_\+ (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Implementation of interface open. 



Reimplemented from \mbox{\hyperlink{class_q_daq_interface_a608f956ab9ba20af92eaf405ae01a984}{Q\+Daq\+Interface}}.



Definition at line 62 of file linuxgpib.\+cpp.

\mbox{\Hypertarget{class_q_daq_linux_gpib_a89112ac79fadf74ceb4b9092e743041c}\label{class_q_daq_linux_gpib_a89112ac79fadf74ceb4b9092e743041c}} 
\index{QDaqLinuxGpib@{QDaqLinuxGpib}!open\_port@{open\_port}}
\index{open\_port@{open\_port}!QDaqLinuxGpib@{QDaqLinuxGpib}}
\doxysubsubsection{\texorpdfstring{open\_port()}{open\_port()}}
{\footnotesize\ttfamily bool Q\+Daq\+Linux\+Gpib\+::open\+\_\+port (\begin{DoxyParamCaption}\item[{uint}]{i,  }\item[{\mbox{\hyperlink{class_q_daq_device}{Q\+Daq\+Device}} $\ast$}]{d }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Open communication port no. i for \mbox{\hyperlink{class_q_daq_device}{Q\+Daq\+Device}} d. 

Returns true if the port was succesfully opened. 

Reimplemented from \mbox{\hyperlink{class_q_daq_interface_a625e5595190967fa44977e5651ceba08}{Q\+Daq\+Interface}}.



Definition at line 89 of file linuxgpib.\+cpp.

\mbox{\Hypertarget{class_q_daq_linux_gpib_aad2d4e1184d767244faf07430fd57cf3}\label{class_q_daq_linux_gpib_aad2d4e1184d767244faf07430fd57cf3}} 
\index{QDaqLinuxGpib@{QDaqLinuxGpib}!read@{read}}
\index{read@{read}!QDaqLinuxGpib@{QDaqLinuxGpib}}
\doxysubsubsection{\texorpdfstring{read()}{read()}}
{\footnotesize\ttfamily int Q\+Daq\+Linux\+Gpib\+::read (\begin{DoxyParamCaption}\item[{uint}]{port,  }\item[{char $\ast$}]{buff,  }\item[{int}]{len,  }\item[{int}]{eos = {\ttfamily 0} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Read data from a port. 

The meaning of the port parameter is different depending on the type of communication interface.

In message based communications (e.\+g. G\+P\+IB) the port is the instrument address.

In memory based interfaces (e.\+g. M\+O\+D\+B\+US) the port number represents the starting register address to access. The number of registers read/written depends on len, the size of the buffer in bytes. A M\+O\+D\+B\+US register is 16 bit, ie, occupies 2 bytes.


\begin{DoxyParams}{Parameters}
{\em port} & Port number. \\
\hline
{\em buff} & Pointer to memory buffer. \\
\hline
{\em len} & Allocated number of bytes. \\
\hline
{\em eos} & End of string byte \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Number of bytes read. 
\end{DoxyReturn}


Reimplemented from \mbox{\hyperlink{class_q_daq_interface_ad9cc492d038f54a52845c16ab2c4882c}{Q\+Daq\+Interface}}.



Definition at line 138 of file linuxgpib.\+cpp.

\mbox{\Hypertarget{class_q_daq_linux_gpib_a7398b73299dc5530b95d25a86a040f77}\label{class_q_daq_linux_gpib_a7398b73299dc5530b95d25a86a040f77}} 
\index{QDaqLinuxGpib@{QDaqLinuxGpib}!readStatusByte@{readStatusByte}}
\index{readStatusByte@{readStatusByte}!QDaqLinuxGpib@{QDaqLinuxGpib}}
\doxysubsubsection{\texorpdfstring{readStatusByte()}{readStatusByte()}}
{\footnotesize\ttfamily int Q\+Daq\+Linux\+Gpib\+::read\+Status\+Byte (\begin{DoxyParamCaption}\item[{uint}]{port }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Return the G\+P\+IB status byte for a device with address port. 



Reimplemented from \mbox{\hyperlink{class_q_daq_interface_a0d00177b3c4519840f7fdeb65a9a9de1}{Q\+Daq\+Interface}}.



Definition at line 153 of file linuxgpib.\+cpp.

\mbox{\Hypertarget{class_q_daq_linux_gpib_a6d5ed5bcdd3f215a6fba8798c6ac0775}\label{class_q_daq_linux_gpib_a6d5ed5bcdd3f215a6fba8798c6ac0775}} 
\index{QDaqLinuxGpib@{QDaqLinuxGpib}!setTimeout\_@{setTimeout\_}}
\index{setTimeout\_@{setTimeout\_}!QDaqLinuxGpib@{QDaqLinuxGpib}}
\doxysubsubsection{\texorpdfstring{setTimeout\_()}{setTimeout\_()}}
{\footnotesize\ttfamily void Q\+Daq\+Linux\+Gpib\+::set\+Timeout\+\_\+ (\begin{DoxyParamCaption}\item[{uint}]{v }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Implementation of setting the timeout. 



Reimplemented from \mbox{\hyperlink{class_q_daq_interface_a1185c649eab03a3cb0653c09539314b0}{Q\+Daq\+Interface}}.



Definition at line 213 of file linuxgpib.\+cpp.

\mbox{\Hypertarget{class_q_daq_linux_gpib_aca022b61ba208841c54375136ab8b243}\label{class_q_daq_linux_gpib_aca022b61ba208841c54375136ab8b243}} 
\index{QDaqLinuxGpib@{QDaqLinuxGpib}!trigger@{trigger}}
\index{trigger@{trigger}!QDaqLinuxGpib@{QDaqLinuxGpib}}
\doxysubsubsection{\texorpdfstring{trigger()}{trigger()}}
{\footnotesize\ttfamily void Q\+Daq\+Linux\+Gpib\+::trigger (\begin{DoxyParamCaption}\item[{uint}]{port }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Send the G\+P\+IB T\+RG signal to the device with address port. 



Reimplemented from \mbox{\hyperlink{class_q_daq_interface_a698160f1b7b759ef84f67e543f215ebf}{Q\+Daq\+Interface}}.



Definition at line 187 of file linuxgpib.\+cpp.

\mbox{\Hypertarget{class_q_daq_linux_gpib_a81c20b5cafdd7839c886e22db7094f9a}\label{class_q_daq_linux_gpib_a81c20b5cafdd7839c886e22db7094f9a}} 
\index{QDaqLinuxGpib@{QDaqLinuxGpib}!write@{write}}
\index{write@{write}!QDaqLinuxGpib@{QDaqLinuxGpib}}
\doxysubsubsection{\texorpdfstring{write()}{write()}}
{\footnotesize\ttfamily int Q\+Daq\+Linux\+Gpib\+::write (\begin{DoxyParamCaption}\item[{uint}]{port,  }\item[{const char $\ast$}]{buff,  }\item[{int}]{len,  }\item[{int}]{eos = {\ttfamily 0} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Write data to a port. 

The meaning of the port parameter is different depending on the type of communication interface.

In message based communications (e.\+g. G\+P\+IB) the port is the instrument address.

In memory based interfaces (e.\+g. M\+O\+D\+B\+US) the port number represents the starting register address to access. The number of registers read/written depends on len, the size of the buffer in bytes. A M\+O\+D\+B\+US register is 16 bit, ie, occupies 2 bytes.


\begin{DoxyParams}{Parameters}
{\em p} & Port number. \\
\hline
{\em buff} & Pointer to memory buffer. \\
\hline
{\em len} & Number of bytes to write. \\
\hline
{\em eos} & End of string byte \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Number of bytes written. 
\end{DoxyReturn}


Reimplemented from \mbox{\hyperlink{class_q_daq_interface_a2bbbb99c82c05732fcba5065bf717c1b}{Q\+Daq\+Interface}}.



Definition at line 170 of file linuxgpib.\+cpp.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
D\+:/tixt/corona/qdaq/plugins/linux-\/gpib/\mbox{\hyperlink{linuxgpib_8h}{linuxgpib.\+h}}\item 
D\+:/tixt/corona/qdaq/plugins/linux-\/gpib/\mbox{\hyperlink{linuxgpib_8cpp}{linuxgpib.\+cpp}}\end{DoxyCompactItemize}
